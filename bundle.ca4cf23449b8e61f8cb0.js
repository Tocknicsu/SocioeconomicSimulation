webpackJsonp([0],{1649:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r,o,l,u,i;Object.defineProperty(t,"__esModule",{value:!0}),r=n(1650),o=a(r),l=n(0),u=a(l),i=u.default.createClass({displayName:"React-C3-Chart",propTypes:{data:u.default.PropTypes.object.isRequired,element:u.default.PropTypes.string.isRequired,type:u.default.PropTypes.string.isRequired,options:u.default.PropTypes.object.isRequired},chart:null,shouldComponentUpdate:function(e){return this.props.data.columns.length!==e.data.columns.length||JSON.stringify(this.props.data.columns)!==JSON.stringify(e.data.columns)},componentDidMount:function(){this._generateChart(this.props.data,this.props.element,this.props.options)},componentDidUpdate:function(e){e.data.columns!==this.props.data.columns&&this._generateChart(this.props.data,this.props.element,this.props.options)},componentWillUnmount:function(){this._destroyChart()},_generateChart:function(e,t,n){var a=Object.assign({},{bindto:"#"+t,data:e},n);this.chart=o.default.generate(a)},_destroyChart:function(){this.chart.destroy()},render:function(){return u.default.createElement("div",{className:"c3 react-c3",id:this.props.element,style:this.props.styles})}}),t.default=i},229:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r,o,l,u;Object.defineProperty(t,"__esModule",{value:!0}),r=n(413),o=a(r),l=n(1649),u=a(l),t.default={App:o.default,C3:u.default}},320:function(e,t,n){e.exports=n(321)},321:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n(0),o=a(r),l=n(203),u=n(229),i=a(u);"undefined"!=typeof document&&window&&(window.onload=function(){return(0,l.render)(o.default.createElement(i.default.App,null),document.getElementById("app"))})},413:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s,d,c,f,p,m,h,g,y,v,b,w,E,C;Object.defineProperty(t,"__esModule",{value:!0}),s=Object.assign||function(e){var t,n,a;for(t=1;t<arguments.length;t++){n=arguments[t];for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d=function(){function e(e,t){var n,a;for(n=0;n<t.length;n++)a=t[n],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n(0),p=a(f),m=n(414),h=a(m),g=n(229),y=a(g),v=n(460),b=a(v),w=n(461),E=n(700),C=(0,h.default)(c=function(e){function t(e){l(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.reset=n.reset.bind(n),n.start=n.start.bind(n),n.update=n.update.bind(n),n.onChange=n.onChange.bind(n),n.groupOnChange=n.groupOnChange.bind(n),n.addGroup=n.addGroup.bind(n),n.deleteGroup=n.deleteGroup.bind(n),n.toggleAllowNegativeMoney=n.toggleAllowNegativeMoney.bind(n),n.state={status:"stop",round:0,totalRound:17e3,batchRound:100,data:[],allowNegativeMoney:!1,groups:[{color:"#657b5b",num:100,money:100,reward:1}]},n}return i(t,e),d(t,[{key:"reset",value:function(){var e=this.state.groups,t=b.default.concat.apply(b.default,o(b.default.map(e,function(e){return b.default.range(e.num).map(function(){return{money:e.money,color:e.color,reward:e.reward}})})));this.setState({round:0,status:"stop",data:t})}},{key:"start",value:function(){this.reset(),this.setState({status:"run"}),this.update()}},{key:"update",value:function(){var e=this;window.requestAnimationFrame(function(){var t,n,a;if("run"===e.state.status&&!(e.state.round>=e.state.totalRound)){for(t=b.default.cloneDeep(e.state.data),n=t.length-1,a=0;a<e.state.batchRound;a++)b.default.each(t,function(a,r){if(!(a.money<=0)||e.state.allowNegativeMoney){a.money-=1;var o=b.default.random(n);t[o].money+=1*t[o].reward}});t=b.default.sortBy(t,function(e){return e.money}),e.setState({round:e.state.round+e.state.batchRound,data:t}),e.update()}})}},{key:"onChange",value:function(e){this.setState(r({},e.target.name,e.target.value))}},{key:"groupOnChange",value:function(e,t){var n=this.state.groups;n[e]=s({},n[e],r({},t.target.name,"color"===t.target.name?t.target.value:parseFloat(t.target.value))),this.setState({groups:n})}},{key:"addGroup",value:function(){this.setState({groups:[].concat(o(this.state.groups),[{color:"#657b5b",num:100,money:100,reward:1}])})}},{key:"deleteGroup",value:function(e){var t=this.state.groups;t.splice(e,1),this.setState({groups:t})}},{key:"toggleAllowNegativeMoney",value:function(){this.setState({allowNegativeMoney:!this.state.allowNegativeMoney})}},{key:"componentDidMount",value:function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=e,this.reset()}},{key:"render",value:function(){var e=this,t=this.state.data,n={columns:[[""].concat(o(b.default.map(t,function(e){return e.money})))],color:function(e,n){return n?t[n.index].color:"white"},grid:{y:{lines:[{value:0}]}},type:"bar"};return p.default.createElement(m.StyleRoot,null,p.default.createElement("div",null,p.default.createElement("div",{style:{width:"100vw",height:"100vh",backgroundColor:"black",color:"white",textAlign:"center"}},p.default.createElement("div",{style:{padding:"0% 20%",fontSize:"28px",lineHeight:"32px",height:"100%",flexDirection:"column",display:"flex",justifyContent:"center"}},p.default.createElement("div",null,p.default.createElement(E.MdAttachMoney,{style:{fontSize:"256px"}})),"房間內有 100 個人，每個人有 100 元，每分鐘隨機給另一個人一元，最後這個房間內的財富分佈是怎樣的？")),p.default.createElement("div",{style:{width:"80vw",margin:"10vw"}},p.default.createElement("div",null,p.default.createElement("div",{id:"testchart"}),p.default.createElement(y.default.C3,{data:n,element:"testchart"})),p.default.createElement("div",null,p.default.createElement(w.Progress,{percent:parseInt(100*this.state.round/this.state.totalRound),progress:!0}),p.default.createElement("div",{style:{marginBottom:"18px"}},p.default.createElement(w.Button,{disabled:"stop"===this.state.status,onClick:this.reset},"Reset"),p.default.createElement(w.Button,{disabled:"run"===this.state.status,onClick:this.start},"Start")),p.default.createElement(w.Form,{style:{marginBottom:"18px"}},p.default.createElement(w.Form.Field,{inline:!0},p.default.createElement("label",null,"交換次數"),p.default.createElement(w.Input,{type:"number",name:"totalRound",value:this.state.totalRound,onChange:this.onChange})),p.default.createElement(w.Form.Field,{inline:!0},p.default.createElement("label",null,"允許負債"),p.default.createElement(w.Button,{toggle:!0,active:this.state.allowNegativeMoney,onClick:this.toggleAllowNegativeMoney},this.state.allowNegativeMoney?"是":"否"))),p.default.createElement("div",null,p.default.createElement(w.Form,null,b.default.map(this.state.groups,function(t,n){return p.default.createElement(w.Form.Group,{inline:!0,key:n},p.default.createElement(w.Form.Field,null,p.default.createElement("label",null,"數量"),p.default.createElement(w.Input,{type:"number",name:"num",value:t.num,onChange:function(t){return e.groupOnChange(n,t)}})),p.default.createElement(w.Form.Field,null,p.default.createElement("label",null,"初始金錢"),p.default.createElement(w.Input,{type:"number",name:"money",value:t.money,onChange:function(t){return e.groupOnChange(n,t)}})),p.default.createElement(w.Form.Field,null,p.default.createElement("label",null,"獎勵倍數"),p.default.createElement(w.Input,{type:"number",name:"reward",value:t.reward,onChange:function(t){return e.groupOnChange(n,t)}})),p.default.createElement(w.Form.Field,null,p.default.createElement("label",null,"顏色"),p.default.createElement(w.Input,{type:"text",name:"color",value:t.color,onChange:function(t){return e.groupOnChange(n,t)}})),p.default.createElement(w.Button,{negative:!0,onClick:function(){return e.deleteGroup(n)}},"移除"))}))),p.default.createElement(w.Button,{positive:!0,onClick:this.addGroup},"新增群組")))))}}]),t}(f.Component))||c,t.default=C}},[320]);